<ul class="nav navbar-nav navbar-dark navbar-right">

  <li class="nav-item">
    <a class="nav-link active" href="javascript:;;" (click)="model.showMenu = !model.showMenu;">
      <i class="fas fa-tasks">
        <span class="badge-tasks" *ngIf="(count$ | async) as notifCount">{{ notifCount }}</span>
      </i>
    </a>
  </li>
</ul>

<app-notification-list-dialog></app-notification-list-dialog>

<div class="notification-menu bg-white" [class.active]="model.showMenu">
  <ul class="list-group" *ngIf="list$ | async as list">
    <li class="list-group-item">
      <h4 class="mb-0">My Tasks</h4>
    </li>

    <li *ngFor="let item of list" class="list-group-item d-flex flex-row">
      <a [routerLink]="item.url" (click)="model.showMenu=false;">
        <i [class]="item.icon + ' mr-2'"></i>
      </a>
      <div>
        <a [routerLink]="item.url" (click)="model.showMenu=false;">
          {{ item.description }}
        </a>
        <div>
          <small [title]="item.taskDateTime | utcDateTime">
            {{ item.taskDateTime | utcDateTimeSince}}
          </small>
        </div>
      </div>
    </li>

    <li *ngIf="list.length == 0" class="list-group-item d-flex flex-row">
      <i>You have no tasks</i>
    </li>


    <li class="list-group-item border-top view-all-row bg-white" *ngIf="(count$ | async)">
      <small>
        <a href="javascript:;;" (click)="showListDialog()">View All Tasks</a>
      </small>
    </li>
  </ul>

  <a class="btn-dismiss p-2" href="javascript:;;" (click)="model.showMenu = false;"><i class="fas fa-times"></i></a>
</div>